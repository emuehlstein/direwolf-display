# Environment overrides for the Direwolf APRS service
# Adjust values to match local SA818/SharPi hardware.

# Path to the Direwolf configuration generated by Ansible.
DIREWOLF_CONFIG=/etc/direwolf.conf

# Sample rate used when Direwolf captures audio from ALSA.
DIREWOLF_SAMPLE_RATE=48000

# Additional Direwolf CLI options appended to the ExecStart command.
DIREWOLF_EXTRA_OPTS="-l /var/log/direwolf"

# SA818 programming defaults applied prior to starting Direwolf.
SA818_ENABLE={{ 1 if sa818_enable else 0 }}
SA818_PORT={{ direwolf_ptt_device }}
SA818_SPEED={{ sa818_speed }}
SA818_FREQUENCY={{ sa818_frequency }}
SA818_OFFSET={{ sa818_offset }}
SA818_BANDWIDTH={{ sa818_bandwidth }}
SA818_SQUELCH={{ sa818_squelch }}
SA818_CTCSS={{ sa818_ctcss }}
SA818_DCS={{ sa818_dcs }}
SA818_TAIL={{ sa818_tail }}
SA818_VOLUME={{ sa818_volume }}
SA818_EMPHASIS={{ sa818_emphasis }}
SA818_HIGHPASS={{ sa818_highpass }}
SA818_LOWPASS={{ sa818_lowpass }}

# RTL-SDR audio pipeline settings.
RTL_FM_ENABLE={{ 1 if rtl_fm_enable else 0 }}
RTL_FM_DEVICE={{ rtl_fm_device }}
RTL_FM_FREQUENCY={{ rtl_fm_frequency }}
RTL_FM_SAMPLE_RATE={{ rtl_fm_sample_rate }}
RTL_FM_GAIN={{ rtl_fm_gain }}
RTL_FM_PPM={{ rtl_fm_ppm }}
RTL_FM_EXTRA_OPTS="{{ rtl_fm_extra_opts | replace('"', '\\"') }}"

# rtl_power monitor publishing RSSI to the backend.
RTL_POWER_ENABLE={{ 1 if rtl_power_enable else 0 }}
RTL_POWER_FREQUENCY_MHZ={{ rtl_power_frequency_mhz }}
RTL_POWER_SPAN_KHZ={{ rtl_power_span_khz }}
RTL_POWER_BIN_WIDTH_HZ={{ rtl_power_bin_width_hz }}
RTL_POWER_INTEGRATION={{ rtl_power_integration }}
RTL_POWER_INTERVAL={{ rtl_power_interval }}
RTL_POWER_GAIN={{ rtl_power_gain }}
RTL_POWER_PPM={{ rtl_power_ppm }}
RTL_POWER_BATCH_SIZE={{ rtl_power_batch_size }}
RTL_POWER_POST_URL="{{ rtl_power_post_url }}"
RTL_POWER_ADDITIONAL_ARGS="{{ rtl_power_additional_args | replace('"', '\\"') }}"
